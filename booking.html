<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>MiraMoo ‚Äî Booking</title>
<link rel="icon" href="assets/img/logo.png" />
<link rel="stylesheet" href="stylesheet.css" />
<style>
.section{padding:40px 0;}

.pref-list {
  list-style: none;
  padding: 0;
  margin: 16px 0 24px 0;
  display: flex;
  flex-direction: column;
  gap: 14px;
}

.pref-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: #fff;
  border: 1px solid #ddd;
  border-radius: 10px;
  padding: 14px 20px;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
}

.pref-left {
  display: flex;
  align-items: center;
  gap: 10px;
  font-weight: 600;
  color: #2b2440;
  flex: 1;
}

.pref-right {
  display: flex;
  align-items: center;
  gap: 18px;
  flex-shrink: 0;
}

.pref-right .pax-group {
  display: flex;
  align-items: center;
  gap: 6px;
}

.pref-right input {
  width: 55px;
  padding: 6px 8px;
  border: 1px solid #ccc;
  border-radius: 6px;
  text-align: center;
  font-family: Poppins, sans-serif;
}

.pref-right span {
  min-width: 70px;
  text-align: right;
  font-weight: 600;
  color: #8a68c4;
}

.drag {
  cursor: grab;
  color: #8a68c4;
  font-size: 1.1em;
  transition: color 0.2s;
}

.drag:hover {
  color: #5f4296;
}

.bs_seat{height:28px;border:1px solid #aaa;border-radius:6px;background:#eee;cursor:pointer;}
.legend{display:flex;justify-content:center;gap:20px;margin-top:15px;}
.legend div{display:flex;align-items:center;gap:6px;}
.legend span{width:20px;height:20px;border-radius:4px;display:inline-block;border:1px solid #aaa;}
.legend .available{background:#c8e7d8;}
.legend .held{background:#fceabb;}
.legend .booked{background:#f2b6b6;}
.legend .selected{background:#cbbbe2;}
.btn{background:#8a68c4;color:#fff;border:none;border-radius:6px;padding:10px 18px;font-family:Poppins,sans-serif;cursor:pointer;transition:.3s;}
.btn:hover{background:#a07fd3;}
.btn-ghost{background:#fff;border:1px solid #8a68c4;color:#8a68c4;border-radius:6px;padding:10px 18px;cursor:pointer;transition:.3s;}
.btn-ghost:hover{background:#8a68c4;color:#fff;}
.btn-row{margin-top:16px;display:flex;justify-content:space-between;flex-wrap:wrap;gap:10px;}
#memberContainer{display:flex;align-items:center;gap:6px;margin-top:8px;}
#priceDisplay{font-weight:600;margin-top:12px;color:#2b2440;}

#seatWrapper{margin-top:20px;text-align:center;}
#screenLabel{background:#d9d9ff;color:#2b2440;font-weight:600;font-family:Poppins,sans-serif;width:70%;margin:0 auto 16px;border-radius:8px;padding:8px 0;box-shadow:0 2px 5px rgba(0,0,0,0.1);}
#seatGrid{display:grid;grid-template-columns:30px repeat(16,28px);grid-auto-rows:28px;justify-content:center;align-content:start;gap:6px;min-height:320px;background:#fafafa;padding:8px;border-radius:10px;}
.bs_row_label{display:flex;align-items:center;justify-content:center;font-weight:600;color:#2b2440;}
.bs_seat{width:28px;height:28px;border:1px solid #aaa;border-radius:6px;background:#c8e7d8;cursor:pointer;transition:background 0.2s;}

.social_links{list-style:none;padding-left:0;}
.social_links li{display:flex;align-items:center;gap:8px;margin-bottom:6px;}
.social_links svg{width:20px;height:20px;fill:currentColor;color:#2b2440;transition:all 0.3s;}
.social_links a:hover svg{color:#8a68c4;}
.steps-list{list-style:none;padding:0;margin:0 0 20px 0;}
.steps-list li{font-size:1.1em;line-height:1.6;}
</style>
</head>

<body>
<header class="site_hdr">
  <div class="container nav">
    <nav class="site_links left">
      <div class="site_brand">MiraMoo</div>
      <a href="index.html">Home</a>
      <a href="movies-schedule.html">Now Showing</a>
      <a href="booking.html" class="active">Book Tickets</a>
    </nav>
    <a href="index.html" class="site_centerlogo"><img src="assets/img/logo.png" alt="MiraMoo Logo" /></a>
    <nav class="site_links right">
      <a href="membership.html">Membership</a>
      <a href="about.html">Our Story</a>
      <a href="contact.html">Contact Us</a>
    </nav>
  </div>
</header>

<main class="container section">
  <h1>Booking</h1>
  <ul class="steps-list">
    <li><strong>Step 1:</strong> Rank & Edit Preferences</li>
    <li><strong>Step 2:</strong> Choose Seats</li>
    <li><strong>Step 3:</strong> Review & Checkout</li>
  </ul>

  <!-- Step 1 -->
  <section id="step1" class="card">
    <h2>Step 1 ‚Äî Preferences</h2>
    <p>Reorder, change pax, or remove movies.</p>
    <ul id="prefList" class="pref-list"></ul>
    <div id="priceDisplay">$0 total</div>
    <div class="btn-row">
      <button id="prefClear" class="btn-ghost">Clear</button>
      <button id="toStep2" class="btn">Continue</button>
    </div>
  </section>

  <!-- Step 2 -->
  <section id="step2" class="card" style="display:none;">
    <h2>Step 2 ‚Äî Choose Seats</h2>
    <label>Selected preference
      <select id="seatShowSelect"></select>
    </label>
    <div id="seatWrapper">
      <div id="screenLabel">Screen</div>
      <div id="seatGrid"></div>
    </div>
    <div class="legend">
      <div><span class="available"></span>Available</div>
      <div><span class="held"></span>On Hold</div>
      <div><span class="booked"></span>Sold</div>
      <div><span class="selected"></span>Selected</div>
    </div>
    <div class="btn-row">
      <button id="backToStep1" class="btn-ghost">Back</button>
      <button id="clearSelection" class="btn-ghost">Clear</button>
      <button id="holdSelected" class="btn" disabled>Continue</button>
    </div>
  </section>

  <!-- Step 3 -->
  <section id="step3Details" class="card" style="display:none;">
    <h2>Step 3 ‚Äî Your Details</h2>
    <form id="bk_details_form" action="mailer.php" method="POST">
      <label>Full name<input name="name" required /></label>
      <label>Email<input type="email" name="email" required /></label>
      <label>Phone<input type="tel" name="phone" required /></label>
      <label>Payment
        <select name="payment" id='paymentMethod' required>
          <option value="">Select Payment</option>
          <option value="PayNow">PayNow</option>
          <option value="Card">Credit / Debit Card</option>
        </select>
      </label>
      <div id="paymentExtra"></div>
      <input type="hidden" name="total" id="hiddenTotal" value="">
      <div id="subtotal" style="margin-top:16px;font-weight:600;"></div>
      <button type="submit" class="btn">Continue</button>
    </form>

  </section>
</main>

<footer class="site_ftr">
  <div class="container cols">
    <!-- Brand / Tagline -->
    <div class="footer_brand">
      <img src="assets/img/logo.png" alt="MiraMoo Logo" class="footer_logo">
      <div class="brand">MiraMoo</div>
      <p class="tagline">‚ÄúLook. Laugh. Love ‚Äî again.‚Äù</p>
      <p>A pastel-hued world where animated stories bring people together.</p>
    </div>

    <!-- Quick Links -->
    <div>
      <h4>Quick Links</h4>
      <ul class="footer_links">
        <li><a href="index.html">Home</a></li>
        <li><a href="movies-schedule.html">Now Showing</a></li>
        <li><a href="booking.html">Book Tickets</a></li>
        <li><a href="membership.html">Membership</a></li>
        <li><a href="about.html">Our Story</a></li>
        <li><a href="contact.html">Contact Us</a></li>
        <li><a href="account.php">Admin Login</a></li>
      </ul>
    </div>

    <!-- Visit Us -->
    <div>
      <h4>Visit Us</h4>
      <address>
        üìç MiraMoo Theatre<br>
        123 Dream Street, Pastel Park<br>
        Singapore, 222222<br><br>
        üìû (000) 123-4567<br>
        üìß <a href="mailto:hello@miramoo.com">hello@miramoo.com</a><br><br>
        üïí <strong>Hours:</strong><br>
        Mon‚ÄìFri: 12 PM ‚Äì 9 PM<br>
        Sat‚ÄìSun: 10 AM ‚Äì 10 PM
      </address>
    </div>

    <!-- Social / Community -->
    <div>
      <h4>Connect With Us</h4>
      <ul class="social_links">
        <li>
          <svg viewBox="0 0 24 24"><path d="M7 2C4.2 2 2 4.2 2 7v10c0 2.8 2.2 5 5 5h10c2.8 0 5-2.2 5-5V7c0-2.8-2.2-5-5-5H7zm5 5a5 5 0 110 10 5 5 0 010-10zm6.5-.1a1.4 1.4 0 110-2.8 1.4 1.4 0 010 2.8z"/></svg>
          <a href="https://instagram.com/miramoo.cinema" target="_blank">@miramoo.cinema</a>
        </li>
        <li>
          <svg viewBox="0 0 24 24"><path d="M22 12a10 10 0 10-11.5 9.9v-7h-2v-3h2v-2.3c0-2 1.2-3.1 3-3.1.9 0 1.8.1 1.8.1v2h-1c-1 0-1.3.6-1.3 1.2V12h2.3l-.4 3h-1.9v7A10 10 0 0022 12"/></svg>
          <a href="https://facebook.com/miramoo" target="_blank">@miramoo</a>
        </li>
        <li>
          <svg viewBox="0 0 24 24"><path d="M12 2c1.1 4.1 4.1 6.2 7 6.6v3.2c-2.4-.2-4.4-1.2-5.6-2.5v7.7c0 2.9-2.3 5.3-5.2 5.3s-5.2-2.4-5.2-5.3S6.3 12 9.2 12c.3 0 .5 0 .8.1V9.2c-4.7-.1-8.5 3.7-8.5 8.3S4.3 24 9 24s9-4 9-8.8V9.8c1 .6 2.2.9 3.5 1V7.6c-1.7-.2-3.3-1-4.3-2.2C16.9 4.2 16.2 3.1 16 2h-4z"/></svg>
          <a href="https://tiktok.com/@miramoo.magic" target="_blank">@miramoo.magic</a>
        </li>
      </ul>
      <p class="community_note">
        Join the MiraMoo community ‚Äî where families, friends, and dreamers gather to relive the magic of animation together.
      </p>
    </div>
  </div>

  <div class="footer_bottom">
    <p>¬© 2025 MiraMoo Cinemas ‚Äî All rights reserved. | 
      <a href="/privacy-policy">Privacy Policy</a> | 
      <a href="/terms">Terms of Use</a>
    </p>
  </div>
</footer>

<!-- JS Includes -->
<script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
<script src="app.js" defer></script>
<script src="booking_flow.js" defer></script>
<script src="bs_seats.js" defer></script>
<script src="bookings.js" defer></script>
</body>
</html>